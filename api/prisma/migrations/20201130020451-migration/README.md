# Migration `20201130020451-migration`

This migration has been generated by Sfaenza at 11/29/2020, 9:04:51 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
DROP INDEX "public"."Exercise.exerciseTypeId_unique"

ALTER TABLE "public"."ExerciseType" DROP CONSTRAINT "ExerciseType_id_fkey"

ALTER TABLE "public"."Exercise" ALTER COLUMN "exerciseTypeId" SET NOT NULL

ALTER TABLE "public"."Exercise" ADD FOREIGN KEY ("exerciseTypeId")REFERENCES "public"."ExerciseType"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201129231833-migration..20201130020451-migration
--- datamodel.dml
+++ datamodel.dml
@@ -4,9 +4,9 @@
 }
 datasource DS {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Workout {
   id                Int               @id @default(autoincrement())
@@ -27,18 +27,18 @@
   actualSets      Int?
   weight          Float?
   actualWeight    Float?
   traineeComments String?
-  exerciseTypeId  Int?           @unique
+  exerciseTypeId  Int
   workout         Workout?       @relation(fields: [workoutId], references: [id])
-  exerciseType    ExerciseType[]
+  ExerciseType    ExerciseType  @relation(fields: [exerciseTypeId], references: [id])
 }
 model ExerciseType {
   id                  Int      @id @default(autoincrement())
   exerciseDescription String?
   exerciseName        String?
-  Exercise            Exercise @relation(fields: [id], references: [exerciseTypeId])
+
 }
 model AppUser {
   id                  Int                @id @default(autoincrement())
```


